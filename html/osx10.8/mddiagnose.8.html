<!DOCTYPE html>
<html>
    <head>
        <meta name="description" content="The mddiagnose tool gathers system and Spotlight information in order to..." />
        <meta http-equiv="Content-Type" CONTENT="text/html; charset="utf-8" />
        <script type="text/javascript" src="../js/ga.js"></script>
        <title>mddiagnose -- gather information to aid in diagnosing Spotlight issues</title>
        <META NAME="robots" CONTENT="all" />
    </head>
    
<content><pre>



MDDIAGNOSE(8)		  BSD System Manager's Manual		 MDDIAGNOSE(8)

NAME
     mddiagnose -- gather information to aid in diagnosing Spotlight issues

SYNOPSIS
     mddiagnose -h
     mddiagnose [-f path] [-e path] [-p path] [-n]

DESCRIPTION
     The mddiagnose tool gathers system and Spotlight information in order to
     assist Apple when investigating issues related to Spotlight. A great deal
     of information is harvested, spanning system state, system and Spotlight
     details.

   What mddiagnose Collects:
	   o   A spindump of the system
	   o   Several seconds of top output
	   o   Individual samples of mds and mdworker
	   o   Paths for all files used by Spotlight to contain its database
	       on every volume
	   o   All system logs
	   o   All spin and crash reports for the following processes:
		  mds
		  mdworker

	   o   Recent spin and crash reports for the following processes, for
	       all local users:
		  mds
		  mdworker

	   o   The query text and result quality statistics for recent Spot-
	       light searches.	The actual results of the searches are not
	       gathered
	   o   General information about disks and mounted network shares
	   o   The path of the last file indexed by each mdworker process on
	       behalf of Spotlight.  The path of the last file which resulted
	       in a crash of an mdworker process.  In each case, only the path
	       is gathered, not the contents of the file
	   o   Spotlight configuration for each volume currently mounted on
	       your system.  This includes the path and size of all files used
	       internally by Spotlight as well as a listing of paths that are
	       user excluded from indexing
	   o   Comprehensive information about internal state of Spotlight

   What mddiagnose Doesn't Collect:
	   o   No user data is harvested from any volume
	   o   No paths or files found by any search are returned
	   o   No database storage or user files are returned
	   o   No authentication credentials are harvested from the system

OPTIONS
     -h      Print full usage.
     -f path Write the diagnostic to the specified path.
     -p path Gather Spotlight permissions and filter information.  Run as
	     owner of that file.

EXIT STATUS
     mddiagnose exits with status 0 if there were no internal errors encoun-
     tered during the diagnostic, or &gt0 when an error unrelated to external
     state occurs or unusable input is provided by the user.

Mac OS X			 15 March 2011			      Mac OS X
    </pre></body>

</html>
