<!DOCTYPE html>
<html>
    <head>
        <meta name="description" content="The networksetup command is used to configure network settings typically..." />
        <meta http-equiv="Content-Type" CONTENT="text/html; charset="utf-8" />
        <script type="text/javascript" src="../js/ga.js"></script>
        <title>networksetup -- configuration tool for network settings in System Prefer-</title>
        <META NAME="robots" CONTENT="all" />
    </head>
    
<content><pre>


NETWORKSETUP(8) 	  BSD System Manager's Manual	       NETWORKSETUP(8)

NAME
     networksetup -- configuration tool for network settings in System Prefer-
     ences.

SYNOPSIS
     networksetup [-listnetworkserviceorder] [-listallnetworkservices]
		  [-listallhardwareports] [-detectnewhardware]
		  [-getmacaddress hardwareport] [-getcomputername]
		  [-setcomputername computername] [-getinfo networkservice]
		  [-setmanual networkservice ip subnet router]
		  [-setdhcp networkservice [clientid]]
		  [-setbootp networkservice]
		  [-setmanualwithdhcprouter networkservice ip]
		  [-setv4off networkservice] [-setv6off networkservice]
		  [-setv6automatic networkservice]
		  [-setv6manual networkservice address prefixLength router]
		  [-getdnsservers networkservice]
		  [-setdnsservers networkservice dns1 [dns2] [...]]
		  [-getsearchdomains networkservice]
		  [-setsearchdomains networkservice domain1 [domain2] [...]]
		  [-create6to4service networkservicename]
		  [-set6to4automatic networkservice]
		  [-set6to4manual networkservice relayAddress]
		  [-getftpproxy networkservice]
		  [-setftpproxy networkservice domain portnumber authenticated username password]
		  [-setftpproxystate networkservice on | off]
		  [-getwebproxy networkservice]
		  [-setwebproxy networkservice domain portnumber authenticated username password]
		  [-setwebproxystate networkservice on | off]
		  [-getsecurewebproxy networkservice]
		  [-setsecurewebproxy networkservice domain portnumber authenticated username password]
		  [-setsecurewebproxystate networkservice on | off]
		  [-getstreamingproxy networkservice]
		  [-setstreamingproxy networkservice domain portnumber authenticated username password]
		  [-setstreamingproxystate networkservice on | off]
		  [-getgopherproxy networkservice]
		  [-setgopherproxy networkservice domain portnumber authenticated username password]
		  [-setgopherproxystate networkservice on | off]
		  [-getsocksfirewallproxy networkservice]
		  [-setsocksfirewallproxy networkservice domain portnumber authenticated username password]
		  [-setsocksfirewallproxystate networkservice on | off]
		  [-getproxybypassdomains networkservice]
		  [-setproxybypassdomains networkservice domain1 [domain2] [...]]
		  [-getproxyautodiscovery networkservice]
		  [-setproxyautodiscovery networkservice on | off]
		  [-getpassiveftp networkservice]
		  [-setpassiveftp networkservice on | off]
		  [-getairportnetwork device]
		  [-setairportnetwork device network [password]]
		  [-getairportpower device] [-setairportpower device on | off]
		  [-listpreferredwirelessnetworks hardwareport]
		  [-addpreferredwirelessnetworkatindex hardwareport network index securitytype [password]]
		  [-removepreferredwirelessnetwork hardwareport network]
		  [-removeallpreferredwirelessnetworks hardwareport]
		  [-getnetworkserviceenabled networkservice]
		  [-setnetworkserviceenabled networkservice on | off]
		  [-createnetworkservice networkservicename hardwareport]
		  [-renamenetworkservice networkservice newnetworkservicename]
		  [-duplicatenetworkservice networkservice newnetworkservicename]
		  [-removenetworkservice networkservice]
		  [-ordernetworkservices service1 [service2] [service3] [...]]
		  [-getMTU hardwareport] [-setMTU hardwarePort value]
		  [-listvalidMTUrange hardwareport] [-getmedia hardwareport]
		  [-setmedia hardwareport subtype [option1] [option2] [...]]
		  [-listvalidmedia hardwareport]
		  [-createVLAN name parentdevice tag]
		  [-deleteVLAN name parentdevice tag] [-listVLANs]
		  [-listdevicesthatsupportVLAN] [-isBondSupported device]
		  [-createBond name [device1] [device2] [...]]
		  [-deleteBond bond] [-addDeviceToBond device bond]
		  [-removeDeviceFromBond device bond] [-listBonds]
		  [-showBondStatus bond] [-listpppoeservices]
		  [-showpppoestatus name]
		  [-createpppoeservice device name account password [pppoeName]]
		  [-deletepppoeservice service]
		  [-setpppoeaccountname service account]
		  [-setpppoepassword service password]
		  [-connectpppoeservice service]
		  [-disconnectpppoeservice service] [-listlocations]
		  [-getcurrentlocation] [-createlocation location [populate]]
		  [-deletelocation location] [-switchtolocation location]
		  [-listalluserprofiles] [-listloginprofiles service]
		  [-enablesystemprofile service on | off]
		  [-enableloginprofile service profile on | off]
		  [-enableuserprofile profile on | off]
		  [-import8021xProfiles service path]
		  [-export8021xProfiles service path yes | no]
		  [-export8021xUserProfiles path yes | no]
		  [-export8021xLoginProfiles service path yes | no]
		  [-export8021xSystemProfile service path yes | no]
		  [-settlsidentityonsystemprofile service path passphrase]
		  [-settlsidentityonuserprofile profile path passphrase]
		  [-deletesystemprofile service]
		  [-deleteloginprofile service profile]
		  [-deleteuserprofile profile] [-resetBMCToDefaults]
		  [-showBMCSettings]
		  [-setupBMC portindex static | dhcp ipaddress subnetmask routeraddress adminname adminpassword]
		  [-version] [-help] [-printcommands]

DESCRIPTION
     The networksetup command is used to configure network settings typically
     configured in the System Preferences application.	The networksetup com-
     mand requires at least "admin" privileges to run. Most of the set com-
     mands require "root" privileges to run.

     Any flag that takes a password will accept "-" in place of the password
     to indicate it should read the password from stdin.

     A list of flags and their descriptions:

     -listnetworkserviceorder
	     Displays a list of network services in the order they are con-
	     tacted for a connection, along with the corresponding port and
	     device for each. An asterisk (*) next to a service means the ser-
	     vice is inactive.

     -listallnetworkservices
	     Displays a list of all the network services on the server's hard-
	     ware ports. An asterisk (*) denotes that a network service is
	     disabled.

     -listallhardwareports
	     Displays list of hardware ports with corresponding device name
	     and ethernet address.

     -detectnewhardware
	     Detects new network hardware and creates a default network ser-
	     vice on the hardware.

     -getmacaddress hardwareport
	     Displays ethernet (or Wi-Fi) address for hardwareport or device
	     specified.

     -getcomputername
	     Displays the computer name.

     -setcomputername computername
	     Sets computer name to &ltcomputername&gt. This name is used by AFP.

     -getinfo networkservice
	     Displays the IP address, subnet mask, router, and hardware
	     address for the &ltnetworkservice&gt that you specify.

     -setmanual networkservice ip subnet router
	     Set the TCP/IP configuration for &ltnetworkservice&gt to manual with
	     IP address set to &ltip&gt, Subnet Mask set to &ltsubnet&gt, and Router
	     address set to &ltrouter&gt.

     -setdhcp networkservice [clientid]
	     Use this command to set the TCP/IP configuration for the speci-
	     fied &ltnetworkservice&gt to use DHCP. The client ID is optional.
	     Specify "Empty" for [clientid] to clear the DHCP client id.

     -setbootp networkservice
	     Use this command to set the TCP/IP configuration for the speci-
	     fied &ltnetworkservice&gt to use BOOTP.

     -setmanualwithdhcprouter networkservice ip
	     Use this command to specify a manual IP address to use for DHCP
	     for the specified &ltnetworkservice&gt.

     -setv4off networkservice
	     Use this command to turn IPv4 off on the specified &ltnetworkser-
	     vice&gt.

     -setv6off networkservice
	     Use this command to turn IPv6 off on the specified &ltnetworkser-
	     vice&gt.

     -setv6automatic networkservice
	     Use this command to set IPv6 to get its addresses automatically
	     for &ltnetworkservice&gt.

     -setv6manual ip prefixlength router
	     Use this command to set IPv6 to get its addresses manually for
	     &ltnetworkservice&gt. Specify the ip address, the prefix length and
	     the router.

     -getdnsservers networkservice
	     Displays DNS info for &ltnetworkservice&gt.

     -setdnsservers networkservice dns1 [dns2] [...]
	     Use this command to specify the IP addresses of servers you want
	     the specified &ltnetworkservice&gt to use to resolve domain names.
	     You can list any number of servers (replace dns1, dns2, and so on
	     with the IP addresses of domain name servers). If you want to
	     clear all DNS entries for the specified network service, type
	     "empty" in place of the DNS server names.

     -getsearchdomains networkservice
	     Displays Domain Name info for &ltnetworkservice&gt.

     -setsearchdomains networkservice domain1 [domain2] [...]
	     Use this command to designate the search domain for the specified
	     &ltnetworkservice&gt. You can list any number of search domains
	     (replace domain1, domain2, and so on with the name of a local
	     domain). If you want to clear all search domain entries for the
	     specified network service, type aemptya in place of the domain
	     name.

     -create6to4service -&ltnewnetworkservicename&gt
	     Use this command to create a new 6 to 4 service with name
	     &ltnewnetworkservicename&gt.

     -set6to4automatic -&ltnewnetworkservicename&gt
	     Use this command to set the 6 to 4 service such that it will get
	     the relay address automatically.

     -set6to4manual -&ltnewnetworkservicename&gt -&ltrelayaddress&gt
	     Use this command to set the 6 to 4 service such that it will get
	     the relay address manually. Specify the &ltrelayaddress&gt that you
	     would like to set.

     -getftpproxy networkservice
	     Displays FTP proxy (server, port, enabled value) info for &ltnet-
	     workservice&gt.

     -setftpproxy networkservice domain portnumber authenticated username
	     password
	     Set FTP proxy for &ltnetworkservice&gt with &ltdomain&gt and &ltport num-
	     ber&gt. Turns proxy on. Optionally, specify &lton&gt or &ltoff&gt for
	     &ltauthenticated&gt to enable and disable authenticated proxy sup-
	     port. Specify &ltusername&gt and &ltpassword&gt if you turn authenticated
	     proxy support on.

     -setftpproxystate networkservice on | off
	     Set FTP proxy on &ltnetworkservice&gt to either &lton&gt or &ltoff&gt.

     -getwebproxy networkservice
	     Displays Web proxy (server, port, enabled value) info for &ltnet-
	     workservice&gt.

     -setwebproxy networkservice domain portnumber authenticated username
	     password
	     Set Web proxy for &ltnetworkservice&gt with &ltdomain&gt and &ltport num-
	     ber&gt. Turns proxy on. Optionally, specify &lton&gt or &ltoff&gt for
	     &ltauthenticated&gt to enable and disable authenticated proxy sup-
	     port. Specify &ltusername&gt and &ltpassword&gt if you turn authenticated
	     proxy support on.

     -setwebproxystate networkservice on | off
	     Set Web proxy on &ltnetworkservice&gt to either &lton&gt or &ltoff&gt.

     -getsecurewebproxy networkservice
	     Displays Secure Web proxy (server, port, enabled value) info for
	     &ltnetworkservice&gt.

     -setsecurewebproxy networkservice domain portnumber authenticated
	     username password
	     Set Secure Web proxy for &ltnetworkservice&gt with &ltdomain&gt and &ltport
	     number&gt. Turns proxy on. Optionally, specify &lton&gt or &ltoff&gt for
	     &ltauthenticated&gt to enable and disable authenticated proxy sup-
	     port. Specify &ltusername&gt and &ltpassword&gt if you turn authenticated
	     proxy support on.

     -setsecurewebproxystate networkservice on | off
	     Set SecureWeb proxy on &ltnetworkservice&gt to either &lton&gt or &ltoff&gt.

     -getstreamingproxy networkservice
	     Displays Streaming proxy (server, port, enabled value) info for
	     &ltnetworkservice&gt.

     -setstreamingproxy networkservice domain portnumber authenticated
	     username password
	     Set Streaming proxy for &ltnetworkservice&gt with &ltnetworkservice&gt.
	     Turns proxy on. Optionally, specify &lton&gt or &ltoff&gt for &ltauthenti-
	     cated&gt to enable and disable authenticated proxy support. Specify
	     &ltusername&gt and &ltpassword&gt if you turn authenticated proxy support
	     on.

     -setstreamingproxystate networkservice on | off
	     Set Streamingproxy on &ltnetworkservice&gt to either &lton&gt or &ltoff&gt.

     -getgopherproxy networkservice
	     Displays Gopher proxy (server, port, enabled value) info for
	     &ltnetworkservice&gt.

     -setgopherproxy networkservice domain portnumber authenticated username
	     password
	     Set Gopher proxy for &ltnetworkservice&gt with &ltdomain&gt and &ltport
	     number&gt. Turns proxy on. Optionally, specify &lton&gt or &ltoff&gt for
	     &ltauthenticated&gt to enable and disable authenticated proxy sup-
	     port. Specify &ltusername&gt and &ltpassword&gt if you turn authenticated
	     proxy support on.

     -setgopherproxystate networkservice on | off
	     Set Gopher proxy on &ltnetworkservice&gt to either &lton&gt or &ltoff&gt.

     -getsocksfirewallproxy networkservice
	     Displays SOCKS Firewall proxy (server, port, enabled value) info
	     for &ltnetworkservice&gt.

     -setsocksfirewallproxy networkservice domain portnumber authenticated
	     username password
	     Set SOCKS Firewall proxy for &ltnetworkservice&gt with &ltdomain&gt and
	     &ltport number&gt. Turns proxy on. Optionally, specify &lton&gt or &ltoff&gt
	     for &ltauthenticated&gt to enable and disable authenticated proxy
	     support. Specify &ltusername&gt and &ltpassword&gt if you turn authenti-
	     cated proxy support on.

     -setsocksfirewallproxystate networkservice on | off
	     Set SOCKS Firewall proxy to  either &lton&gt or &ltoff&gt.

     -getproxybypassdomains networkservice
	     Displays Bypass Domain Names for &ltnetworkservice&gt.

     -setproxybypassdomains networkservice domain1 [domain2] [...]
	     Set the Bypass Domain Name Servers for &ltnetworkservice&gt to
	     &ltdomain1&gt [domain2] [...]. Any number of Domain Name servers can
	     be specified. Specify "Empty" for &ltdomain1&gt to clear all Domain
	     Name entries.

     -getproxyautodiscovery networkservice
	     Displays Proxy Auto Discover for &ltnetworkservice&gt.

     -setproxyautodiscovery networkservice on | off
	     Set Proxy Auto Discover for &ltnetworkservice&gt to either &lton&gt or
	     &ltoff&gt.

     -getpassiveftp networkservice
	     Displays whether Passive FTP is on or off for &ltnetworkservice&gt.

     -setpassiveftp networkservice on | off
	     Set Passive FTP to either &lton&gt or &ltoff&gt.

     -setautoproxyurl networkservice url
	     Set proxy auto-config to url for &ltnetworkservice&gt and enable it.

     -getautoproxyurl networkservice
	     Displays proxy auto-config (url, enabled) info for &ltnetworkser-
	     vice&gt.

     -setsocksfirewallproxystate networkservice on | off
	     Set SOCKS Firewall proxy to  either &lton&gt or &ltoff&gt.

     -getairportnetwork hardwareport
	     Displays current Wi-Fi Network.

     -setairportnetwork hardwareport network [password]
	     Set Wi-Fi Network to &ltnetwork&gt using optional [password] if spec-
	     ified.

     -getairportpower hardwareport
	     Displays whether Wi-Fi power is on or off.

     -setairportpower hardwareport on | off
	     Set Wi-Fi power to either &lton&gt or &ltoff&gt.

     -listpreferredwirelessnetworks hardwareport
	     List the preferred wireless networks for &lthardwareport&gt

     -addpreferredwirelessnetworkatindex hardwareport network index
	     securitytype [password]
	     Add wireless network named &ltnetwork&gt to preferred list for &lthard-
	     wareport&gt at &ltindex&gt. Store the optional password in the keychain
	     For security type, use OPEN for none, WPA for WPA Personal, WPAE
	     for WPA Enterprise, WPA2 for WPA2 Personal, WPA2E for WPA2 Enter-
	     prise, WEP for plain WEP, and 8021XWEP for 802.1X WEP.

     -removepreferredwirelessnetwork hardwareport network
	     Remove &ltnetwork&gt from the preferred wireless network list for
	     &lthardwareport&gt

     -removeallpreferredwirelessnetworks hardwareport
	     Remove all networks from the preferred wireless network list for
	     &lthardwareport&gt

     -getnetworkserviceenabled networkservice
	     Displays whether a service is on or off (enabled or disabled).

     -setnetworkserviceenabled networkservice on | off
	     Use this command to turn the specified network service on or off
	     (enable or disable).

     -createnetworkservice networkservicename hardwareport
	     Create a service named &ltnetworkservice&gt on port &lthardwareport&gt.
	     The new service will be enabled by default.

     -renamenetworkservice networkservice newnetworkservicename
	     Use this command to rename the specified network service &ltnet-
	     workservice&gt to &ltnewnetworkservicename&gt.

     -duplicatenetworkservice networkservice newnetworkservicename
	     Use this command to duplicate an existing network service &ltnet-
	     workservice&gt and rename it to the specified name &ltnewnetworkser-
	     vicename&gt.

     -removenetworkservice networkservice
	     Use this command to delete a network service &ltnetworkservice&gt.
	     You cannot use this command to delete the last remaining service
	     for a hardware port. To do so, you use the -setnetworkserviceen-
	     abled command.

     -ordernetworkservices service1 [service2] [service3] [...]
	     Use this command to designate the order network services are con-
	     tacted on the specified hardware port. Name the network you want
	     contacted first, then the second, and so on. Use "listnetworkser-
	     viceorder" to view current service order. Note: use quotes around
	     service names which contain spaces (ie. "Built-in Ethernet").

     -setMTUAndMediaAutomatically hardwarePort
	     Set hardwareport or device specified back to automatically set-
	     ting the MTU and Media.

     -getMTU hardwareport
	     Get the MTU value for hardwareport or device specified.

     -setMTU hardwarePort value
	     Set MTU for hardwareport or device specified.

     -listValidMTURange hardwareport
	     List the valid MTU range for hardwareport or device specified.

     -getMedia hardwareport
	     Show both the current setting for media and the active media on
	     hardwareport or device specified.

     -setMedia hardwareport subtype [option1] [option2] [...]
	     Set media for hardwareport or device specified to subtype. Spec-
	     ify optional [option1] and additional options depending on sub-
	     type. Any number of valid options can be specified.

     -listValidMedia hardwareport
	     List valid media options for hardwareport or device name. Enumer-
	     ates available subtypes and options per subtype.

     -createVLAN name parentdevice tag
	     Create a VLAN with the name &ltname&gt over the parent device &ltpar-
	     entdevice&gt and with the tag &lttag&gt.

     -deleteVLAN name parentdevice tag
	     Delete the VLAN with the name &ltname&gt over the parent device &ltpar-
	     entdevice&gt and with the tag &lttag&gt.

     -listVLANs
	     List the VLANs that have been created.

     -listdevicesthatsupportVLAN
	     List the devices that support VLANs.

     -isBondSupported device
	     Displays YES if the device can be added to a bond. NO if it can-
	     not.

     -createBond name [device1] [device2] [...]
	     Create a bond with the user-defined-name name and optionally add
	     any listed devices if they support bonding.

     -deleteBond bond
	     Delete the bond with the specified device-name.

     -addDeviceToBond device bond
	     Add device to bond.

     -removeDeviceFromBond device bond
	     Remove device from bond.

     -listBonds
	     List of all bonds.

     -showBondStatus bond
	     Display the status of the specified bond.

     -listpppoeservices
	     List all PPPoE services in the current set.

     -showpppoestatus name
	     Display the status of the PPPoE service with the specified name.

     -createpppoeservice device name account password [pppoeName]
	     Create a PPPoE service on the specified device with the service
	     name specified.

     -deletepppoeservice service
	     Delete the service.

     -setpppoeaccountname service account
	     Set the account name for the service.

     -setpppoepassword service password
	     Set the password for the service.

     -connectpppoeservice service
	     Connect the service.

     -disconnectpppoeservice service
	     Disconnect the service.

     -listlocations
	     List all network locations.

     -getcurrentlocation
	     Display the name of the current set.

     -createlocation location [populate]
	     Create a set with the user-defined-name name and optionally popu-
	     late it with the default services.

     -deletelocation location
	     Delete the set.

     -switchtolocation location
	     Make the specified set the current set.

     -listalluserprofiles
	     Display the names of all of the user profiles.

     -listloginprofiles service
	     Display the names of the loginwindow profiles for the specified
	     service.

     -enablesystemprofile service on | off
	     Enables or disables the system profile for the specified ser-
	     vice.

     -enableloginprofile service profile on | off
	     Enables or disables the specified loginwindow profile for the
	     specified service.

     -enableuserprofile profile on | off
	     Enables or disables the specified user profile.

     -import8021xProfiles service path
	     Imports the 802.1x profiles for the specified service.

     -export8021xProfiles service path yes | no
	     Exports all of the profiles for the specified service and option-
	     ally includes the items from the keychain.

     -export8021xUserProfiles path yes | no
	     Exports only the user profiles and optionally includes the items
	     from the keychain.

     -export8021xLoginProfiles service path yes | no
	     Exports only the loginwindow profiles for the specified ser-
	     vice  and optionally includes the items from the keychain.

     -export8021xSystemProfile service path yes | no
	     Exports only the system profile for the specified service and
	     optionally includes the items from the keychain.

     -settlsidentityonsystemprofile service path passphrase
	     Sets the TLS identity on the system profile for the specified
	     service. Identity must be a pkcs12 file.

     -settlsidentityonuserprofile profile path passphrase
	     Sets the TLS identity on the specified user profile. Identity
	     must be a pkcs12 file.

     -deletesystemprofile service
	     Deletes the system profile for the specified service.

     -deleteloginprofile service profile
	     Deletes the specified loginwindow profile for the specified ser-
	     vice.

     -deleteuserprofile profile
	     Deletes the specified user profile.

     -resetBMCToDefaults
	     Resets the BMC to factory defaults

     -showBMCSettings
	     Shows the settings being used by the BMC

     -setupBMC portindex static | dhcp ipaddress subnetmask routeraddress
	     adminname adminpassword
	     Sets the settings to be used by the BMC

     -version
	     Displays version of networksetup tool.

     -help   Displays a list of all the commands available in the Network Set-
	     up Tool, with explanatory information.

     -printcommands
	     Displays a list of commands with no detail.

EXAMPLES
     networksetup -listallnetworkservices

     networksetup -setmanual "Built-in Ethernet" 192.168.100.100 255.255.255.0
     192.168.100.1

     networksetup -setdnsservers "Built-in Ethernet" 192.168.100.100
     192.168.100.12

     networksetup -setsearchdomains "Built-in Ethernet" company.com corp.com

     networksetup -setwebproxy "Built-in Ethernet" proxy.company.com 80

     networksetup -setwebproxy "Built-In Ethernet" proxy.company.com 80 On
     authusername authpassword

     networksetup -duplicatenetworkservice "Built-In Ethernet" "Local LAN"

     networksetup -getdnsservers "Built-In Ethernet"

     networksetup -setMTU en0 1500

     networksetup -setMedia en0 autoselect

     networksetup -setMedia en0 100baseTX half-duplex

     networksetup -createBond MyBond en0 en1

     networksetup -addDeviceToBond en0 bond0

     networksetup -setpppoepassword MyPPPoE - &lt ~/Desktop/MyPasswordFile.txt

     networksetup -createlocation Home populate

     networksetup -import8021xProfiles Ethernet "/Users/MyHome/Down-
     loads/ExportedConfigs.networkconnect"

     networksetup -setupBMC 1 static 192.168.1.23 255.255.252.0 192.168.1.1
     admin -

     networksetup -setupBMC 2 dhcp 0.0.0.0 0.0.0.0 0.0.0.0 admin 123aBc9X8Z

FILES
     /usr/sbin/networksetup

SEE ALSO
     systemsetup(8)

Mac OS X			April 16, 2002			      Mac OS X
    </pre></body>

</html>
